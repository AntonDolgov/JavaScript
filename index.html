<!-- Есть дерево из тегов <ul>/<li>.

Какой метод поиска элементов работает быстрее: getElementsByTagName(tag) или querySelectorAll(tag)?

Напишите код, который измеряет разницу между ними.

P.S. В задаче есть подвох, все не так просто. Если разница больше 10 раз – вы решили ее неверно. Тогда подумайте, почему такое может быть.

-->

<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>

  <ul>
    <li>Животные
      <ul>
        <li>Млекопитающие
          <ul>
            <li>Коровы</li>
            <li>Ослы</li>
            <li>Собаки</li>
            <li>Тигры</li>
          </ul>
        </li>
        <li>Другие
          <ul>
            <li>Змеи</li>
            <li>Птицы</li>
            <li>Ящерицы</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Рыбы
      <ul>
        <li>Аквариумные
          <ul>
            <li>Гуппи</li>
            <li>Скалярии</li>
          </ul>

        </li>
        <li>Морские
          <ul>
            <li>Морская форель</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <script>
    var date1 = new Date();
    for (var i = 0; i < 99999; i++) {
      var a = document.querySelectorAll('li');
      for (var j = 0; j< a.length; j++) {
        var b = a[j];
      }
    }
    date1 = new Date() - date1;

    var date2 = new Date();
    for (var i = 0; i < 99999; i++) {
      var a = document.getElementsByTagName('li');
      for (var j = 0; j< a.length; j++) {
        var b = a[j];
      }
    }
    date2 = new Date() - date2;    

    alert('Результат querySelector: ' + date1 + ' мс');
    alert('Результат getElementsByTagName: ' + date2 + ' мс');
  </script>

</body>

</html>

<!-- 
  getElementsByTagName является «живым поисковым запросом». Если не обратиться к его результатам, то поиска не произойдет вообще, т.е. runGet ничего по сути не ищет.

…А querySelectorAll всегда производит поиск и формирует список элементов.

Более правильный тест – это не только запустить поиск, но и получить все элементы, как это делается в реальной жизни.
 -->